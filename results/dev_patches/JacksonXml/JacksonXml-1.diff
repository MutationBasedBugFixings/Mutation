diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-b/.defects4j.config	2025-11-05 19:49:32.473835946 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-f/.defects4j.config	2025-11-05 19:49:33.588827956 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=JacksonXml
-vid=1b
+vid=1f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-b/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/FromXmlParser.java /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-f/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/FromXmlParser.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-b/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/FromXmlParser.java	2025-11-05 19:49:32.475835932 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksonxml/JacksonXml-1-f/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/FromXmlParser.java	2025-11-05 19:49:33.649827519 +0800
@@ -509,8 +509,13 @@
             // Simple, except that if this is a leaf, need to suppress end:
             if (_mayBeLeaf) {
                 _mayBeLeaf = false;
+                if (_parsingContext.inArray()) {
                     // 06-Jan-2015, tatu: as per [dataformat-xml#180], need to
                     //    expose as empty Object, not null
+                    _nextToken = JsonToken.END_OBJECT;
+                    _parsingContext = _parsingContext.createChildObjectContext(-1, -1);
+                    return (_currToken = JsonToken.START_OBJECT);
+                }
                 return (_currToken = JsonToken.VALUE_NULL);
             }
             _currToken = _parsingContext.inArray() ? JsonToken.END_ARRAY : JsonToken.END_OBJECT;
@@ -547,10 +552,9 @@
                         // 06-Jan-2015, tatu: as per [dataformat-xml#180], need to
                         //    expose as empty Object, not null (or, worse, as used to
                         //    be done, by swallowing the token)
-                        _currToken = JsonToken.END_ARRAY;
-                        _parsingContext = _parsingContext.getParent();
-                        _namesToWrap = _parsingContext.getNamesToWrap();
-                        return _currToken;
+                        _nextToken = JsonToken.END_OBJECT;
+                        _parsingContext = _parsingContext.createChildObjectContext(-1, -1);
+                        return (_currToken = JsonToken.START_OBJECT);
                     }
                 }
                 return (_currToken = JsonToken.VALUE_STRING);
