diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-b/.defects4j.config	2025-11-08 12:20:07.783772662 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-f/.defects4j.config	2025-11-08 12:20:13.954872111 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=JacksonDatabind
-vid=60b
+vid=60f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-b/src/main/java/com/fasterxml/jackson/databind/ser/std/JsonValueSerializer.java /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-f/src/main/java/com/fasterxml/jackson/databind/ser/std/JsonValueSerializer.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-b/src/main/java/com/fasterxml/jackson/databind/ser/std/JsonValueSerializer.java	2025-11-08 12:20:07.789772760 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_jacksondatabind/JacksonDatabind-60-f/src/main/java/com/fasterxml/jackson/databind/ser/std/JsonValueSerializer.java	2025-11-08 12:20:14.033873376 +0800
@@ -6,6 +6,7 @@
 import java.util.LinkedHashSet;
 import java.util.Set;
 
+import com.fasterxml.jackson.annotation.JsonTypeInfo.As;
 import com.fasterxml.jackson.core.*;
 import com.fasterxml.jackson.databind.*;
 import com.fasterxml.jackson.databind.annotation.JacksonStdImpl;
@@ -14,6 +15,7 @@
 import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonFormatVisitorWrapper;
 import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonStringFormatVisitor;
 import com.fasterxml.jackson.databind.jsonschema.SchemaAware;
+import com.fasterxml.jackson.databind.jsontype.TypeIdResolver;
 import com.fasterxml.jackson.databind.jsontype.TypeSerializer;
 import com.fasterxml.jackson.databind.ser.BeanSerializer;
 import com.fasterxml.jackson.databind.ser.ContextualSerializer;
@@ -223,7 +225,8 @@
             // 28-Sep-2016, tatu: As per [databind#1385], we do need to do some juggling
             //    to use different Object for type id (logical type) and actual serialization
             //    (delegat type).
-            ser.serializeWithType(value, gen, provider, typeSer0);
+            TypeSerializerRerouter rr = new TypeSerializerRerouter(typeSer0, bean);
+            ser.serializeWithType(value, gen, provider, rr);
         } catch (IOException ioe) {
             throw ioe;
         } catch (Exception e) {
@@ -360,24 +363,108 @@
      * override Object to use for type id (logical type) even when asking serialization
      * of something else (delegate type)
      */
+    static class TypeSerializerRerouter
+        extends TypeSerializer
+    {
+        protected final TypeSerializer _typeSerializer;
+        protected final Object _forObject;
 
+        public TypeSerializerRerouter(TypeSerializer ts, Object ob) {
+            _typeSerializer = ts;
+            _forObject = ob;
+        }
 
+        @Override
+        public TypeSerializer forProperty(BeanProperty prop) { // should never get called
+            throw new UnsupportedOperationException();
+        }
 
+        @Override
+        public As getTypeInclusion() {
+            return _typeSerializer.getTypeInclusion();
+        }
 
+        @Override
+        public String getPropertyName() {
+            return _typeSerializer.getPropertyName();
+        }
 
+        @Override
+        public TypeIdResolver getTypeIdResolver() {
+            return _typeSerializer.getTypeIdResolver();
+        }
 
+        @Override
+        public void writeTypePrefixForScalar(Object value, JsonGenerator gen) throws IOException {
+            _typeSerializer.writeTypePrefixForScalar(_forObject, gen);
+        }
 
+        @Override
+        public void writeTypePrefixForObject(Object value, JsonGenerator gen) throws IOException {
+            _typeSerializer.writeTypePrefixForObject(_forObject, gen);
+        }
 
+        @Override
+        public void writeTypePrefixForArray(Object value, JsonGenerator gen) throws IOException {
+            _typeSerializer.writeTypePrefixForArray(_forObject, gen);
+        }
 
+        @Override
+        public void writeTypeSuffixForScalar(Object value, JsonGenerator gen) throws IOException {
+            _typeSerializer.writeTypeSuffixForScalar(_forObject, gen);
+        }
 
+        @Override
+        public void writeTypeSuffixForObject(Object value, JsonGenerator gen) throws IOException {
+            _typeSerializer.writeTypeSuffixForObject(_forObject, gen);
+        }
 
+        @Override
+        public void writeTypeSuffixForArray(Object value, JsonGenerator gen) throws IOException {
+            _typeSerializer.writeTypeSuffixForArray(_forObject, gen);
+        }
 
+        public void writeTypePrefixForScalar(Object value, JsonGenerator gen, Class<?> type) throws IOException {
+            _typeSerializer.writeTypePrefixForScalar(_forObject, gen, type);
+        }
 
+        public void writeTypePrefixForObject(Object value, JsonGenerator gen, Class<?> type) throws IOException {
+            _typeSerializer.writeTypePrefixForObject(_forObject, gen, type);
+        }
 
+        public void writeTypePrefixForArray(Object value, JsonGenerator gen, Class<?> type) throws IOException {
+            _typeSerializer.writeTypePrefixForArray(_forObject, gen, type);
+        }
         
+        @Override
+        public void writeCustomTypePrefixForScalar(Object value, JsonGenerator gen, String typeId)
+                throws IOException {
+            _typeSerializer.writeCustomTypePrefixForScalar(_forObject, gen, typeId);
+        }
 
+        @Override
+        public void writeCustomTypePrefixForObject(Object value, JsonGenerator gen, String typeId) throws IOException {
+            _typeSerializer.writeCustomTypePrefixForObject(_forObject, gen, typeId);
+        }
 
+        @Override
+        public void writeCustomTypePrefixForArray(Object value, JsonGenerator gen, String typeId) throws IOException {
+            _typeSerializer.writeCustomTypePrefixForArray(_forObject, gen, typeId);
+        }
 
+        @Override
+        public void writeCustomTypeSuffixForScalar(Object value, JsonGenerator gen, String typeId) throws IOException {
+            _typeSerializer.writeCustomTypeSuffixForScalar(_forObject, gen, typeId);
+        }
 
+        @Override
+        public void writeCustomTypeSuffixForObject(Object value, JsonGenerator gen, String typeId) throws IOException {
+            _typeSerializer.writeCustomTypeSuffixForObject(_forObject, gen, typeId);
+        }
 
+        @Override
+        public void writeCustomTypeSuffixForArray(Object value, JsonGenerator gen, String typeId) throws IOException {
+            _typeSerializer.writeCustomTypeSuffixForArray(_forObject, gen, typeId);
+        }
+    }
 }
