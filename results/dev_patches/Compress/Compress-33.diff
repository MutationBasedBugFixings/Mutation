diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-b/.defects4j.config	2025-11-04 21:53:43.736738224 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-f/.defects4j.config	2025-11-04 21:53:47.431700987 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Compress
-vid=33b
+vid=33f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-b/src/main/java/org/apache/commons/compress/compressors/CompressorStreamFactory.java /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-f/src/main/java/org/apache/commons/compress/compressors/CompressorStreamFactory.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-b/src/main/java/org/apache/commons/compress/compressors/CompressorStreamFactory.java	2025-11-04 21:53:43.737738214 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-f/src/main/java/org/apache/commons/compress/compressors/CompressorStreamFactory.java	2025-11-04 21:53:47.489700402 +0800
@@ -237,6 +237,9 @@
                 return new ZCompressorInputStream(in);
             }
 
+            if (DeflateCompressorInputStream.matches(signature, signatureLength)) {
+                return new DeflateCompressorInputStream(in);
+            }
 
             if (XZUtils.matches(signature, signatureLength) &&
                 XZUtils.isXZCompressionAvailable()) {
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-b/src/main/java/org/apache/commons/compress/compressors/deflate/DeflateCompressorInputStream.java /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-f/src/main/java/org/apache/commons/compress/compressors/deflate/DeflateCompressorInputStream.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-b/src/main/java/org/apache/commons/compress/compressors/deflate/DeflateCompressorInputStream.java	2025-11-04 21:53:43.737738214 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-33-f/src/main/java/org/apache/commons/compress/compressors/deflate/DeflateCompressorInputStream.java	2025-11-04 21:53:47.489700402 +0800
@@ -30,6 +30,11 @@
  * @since 1.9
  */
 public class DeflateCompressorInputStream extends CompressorInputStream {
+    private static final int MAGIC_1 = 0x78;
+    private static final int MAGIC_2a = 0x01;
+    private static final int MAGIC_2b = 0x5e;
+    private static final int MAGIC_2c = 0x9c;
+    private static final int MAGIC_2d = 0xda;
     
     private final InputStream in;
 
@@ -103,4 +108,11 @@
      * 
      * @since 1.9
      */
+    public static boolean matches(byte[] signature, int length) {
+        return length > 3 && signature[0] == MAGIC_1 && (
+                signature[1] == (byte) MAGIC_2a ||
+                signature[1] == (byte) MAGIC_2b ||
+                signature[1] == (byte) MAGIC_2c ||
+                signature[1] == (byte) MAGIC_2d);
+    }
 }
