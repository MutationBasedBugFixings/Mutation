diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-b/.defects4j.config	2025-11-04 21:52:09.673694752 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-f/.defects4j.config	2025-11-04 21:52:13.287657678 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Compress
-vid=20b
+vid=20f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.java /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-f/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.java	2025-11-04 21:52:09.675694732 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_compress/Compress-20-f/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.java	2025-11-04 21:52:13.343657103 +0800
@@ -328,7 +328,7 @@
 
         ret.setInode(readAsciiLong(8, 16));
         long mode = readAsciiLong(8, 16);
-        if (mode != 0){
+        if (CpioUtil.fileType(mode) != 0){ // mode is initialised to 0
             ret.setMode(mode);
         }
         ret.setUID(readAsciiLong(8, 16));
@@ -344,7 +344,7 @@
         ret.setChksum(readAsciiLong(8, 16));
         String name = readCString((int) namesize);
         ret.setName(name);
-        if (mode == 0 && !name.equals(CPIO_TRAILER)){
+        if (CpioUtil.fileType(mode) == 0 && !name.equals(CPIO_TRAILER)){
             throw new IOException("Mode 0 only allowed in the trailer. Found entry name: "+name + " Occured at byte: " + getBytesRead());
         }
         skip(ret.getHeaderPadCount());
@@ -358,7 +358,7 @@
         ret.setDevice(readAsciiLong(6, 8));
         ret.setInode(readAsciiLong(6, 8));
         final long mode = readAsciiLong(6, 8);
-        if (mode != 0) {
+        if (CpioUtil.fileType(mode) != 0) {
             ret.setMode(mode);
         }
         ret.setUID(readAsciiLong(6, 8));
@@ -370,7 +370,7 @@
         ret.setSize(readAsciiLong(11, 8));
         final String name = readCString((int) namesize);
         ret.setName(name);
-        if (mode == 0 && !name.equals(CPIO_TRAILER)){
+        if (CpioUtil.fileType(mode) == 0 && !name.equals(CPIO_TRAILER)){
             throw new IOException("Mode 0 only allowed in the trailer. Found entry: "+ name + " Occured at byte: " + getBytesRead());
         }
 
@@ -384,7 +384,7 @@
         ret.setDevice(readBinaryLong(2, swapHalfWord));
         ret.setInode(readBinaryLong(2, swapHalfWord));
         final long mode = readBinaryLong(2, swapHalfWord);
-        if (mode != 0){
+        if (CpioUtil.fileType(mode) != 0){
             ret.setMode(mode);
         }
         ret.setUID(readBinaryLong(2, swapHalfWord));
@@ -396,7 +396,7 @@
         ret.setSize(readBinaryLong(4, swapHalfWord));
         final String name = readCString((int) namesize);
         ret.setName(name);
-        if (mode == 0 && !name.equals(CPIO_TRAILER)){
+        if (CpioUtil.fileType(mode) == 0 && !name.equals(CPIO_TRAILER)){
             throw new IOException("Mode 0 only allowed in the trailer. Found entry: "+name + "Occured at byte: " + getBytesRead());
         }
         skip(ret.getHeaderPadCount());
