diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-b/.defects4j.config	2025-11-05 15:53:59.006446940 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-f/.defects4j.config	2025-11-05 15:53:59.890433572 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Gson
-vid=2b
+vid=2f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-b/gson/src/main/java/com/google/gson/internal/bind/TypeAdapters.java /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-f/gson/src/main/java/com/google/gson/internal/bind/TypeAdapters.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-b/gson/src/main/java/com/google/gson/internal/bind/TypeAdapters.java	2025-11-05 15:53:59.007446924 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_gson/Gson-2-f/gson/src/main/java/com/google/gson/internal/bind/TypeAdapters.java	2025-11-05 15:54:00.026431516 +0800
@@ -830,8 +830,20 @@
         if (!clazz.isAssignableFrom(requestedType)) {
           return null;
         }
-        return (TypeAdapter<T2>) typeAdapter;
+        return (TypeAdapter<T2>) new TypeAdapter<T1>() {
+          @Override public void write(JsonWriter out, T1 value) throws IOException {
+            typeAdapter.write(out, value);
+          }
 
+          @Override public T1 read(JsonReader in) throws IOException {
+            T1 result = typeAdapter.read(in);
+            if (result != null && !requestedType.isInstance(result)) {
+              throw new JsonSyntaxException("Expected a " + requestedType.getName()
+                  + " but was " + result.getClass().getName());
+            }
+            return result;
+          }
+        };
       }
       @Override public String toString() {
         return "Factory[typeHierarchy=" + clazz.getName() + ",adapter=" + typeAdapter + "]";
