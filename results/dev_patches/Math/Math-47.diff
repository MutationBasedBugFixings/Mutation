diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-b/.defects4j.config	2025-11-09 16:43:07.033315030 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-f/.defects4j.config	2025-11-09 16:43:11.381256935 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Math
-vid=47b
+vid=47f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-b/src/main/java/org/apache/commons/math/complex/Complex.java /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-f/src/main/java/org/apache/commons/math/complex/Complex.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-b/src/main/java/org/apache/commons/math/complex/Complex.java	2025-11-09 16:43:07.033315030 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_math/Math-47-f/src/main/java/org/apache/commons/math/complex/Complex.java	2025-11-09 16:43:11.450256014 +0800
@@ -79,6 +79,7 @@
     /** Record whether this complex number is infinite. */
     private final transient boolean isInfinite;
     /** Record whether this complex number is zero. */
+    private final transient boolean isZero;
 
     /**
      * Create a complex number given only the real part.
@@ -102,6 +103,7 @@
         isNaN = Double.isNaN(real) || Double.isNaN(imaginary);
         isInfinite = !isNaN &&
             (Double.isInfinite(real) || Double.isInfinite(imaginary));
+        isZero = real == 0 && imaginary == 0;
     }
 
     /**
@@ -253,8 +255,8 @@
             return NaN;
         }
 
-        if (divisor.getReal() == 0.0 && divisor.getImaginary() == 0.0) {
-            return NaN;
+        if (divisor.isZero) {
+            return isZero ? NaN : INF;
         }
 
         if (divisor.isInfinite() && !isInfinite()) {
@@ -290,7 +292,7 @@
             return NaN;
         }
         if (divisor == 0d) {
-            return NaN;
+            return isZero ? NaN : INF;
         }
         if (Double.isInfinite(divisor)) {
             return !isInfinite() ? ZERO : NaN;
