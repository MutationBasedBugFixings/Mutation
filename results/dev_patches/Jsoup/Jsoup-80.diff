diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-b/.defects4j.config	2025-11-06 20:12:18.181986854 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-f/.defects4j.config	2025-11-06 20:12:19.797019712 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Jsoup
-vid=80b
+vid=80f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-b/src/main/java/org/jsoup/parser/XmlTreeBuilder.java /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-f/src/main/java/org/jsoup/parser/XmlTreeBuilder.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-b/src/main/java/org/jsoup/parser/XmlTreeBuilder.java	2025-11-06 20:12:18.183986895 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff_jsoup/Jsoup-80-f/src/main/java/org/jsoup/parser/XmlTreeBuilder.java	2025-11-06 20:12:19.846020708 +0800
@@ -88,9 +88,11 @@
             String data = comment.getData();
             if (data.length() > 1 && (data.startsWith("!") || data.startsWith("?"))) {
                 Document doc = Jsoup.parse("<" + data.substring(1, data.length() -1) + ">", baseUri, Parser.xmlParser());
+                if (doc.childNodeSize() > 0) {
                     Element el = doc.child(0);
                     insert = new XmlDeclaration(settings.normalizeTag(el.tagName()), data.startsWith("!"));
                     insert.attributes().addAll(el.attributes());
+                } // else, we couldn't parse it as a decl, so leave as a comment
             }
         }
         insertNode(insert);
