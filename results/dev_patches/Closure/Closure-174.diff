diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/.defects4j.config	2025-11-12 13:07:35.389276426 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/.defects4j.config	2025-11-12 13:07:39.285276147 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Closure
-vid=174b
+vid=174f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/src/com/google/javascript/jscomp/JsAst.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/src/com/google/javascript/jscomp/JsAst.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/src/com/google/javascript/jscomp/JsAst.java	2025-11-12 13:07:35.389276426 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/src/com/google/javascript/jscomp/JsAst.java	2025-11-12 13:07:39.362276141 +0800
@@ -79,6 +79,7 @@
   }
 
   private void parse(AbstractCompiler compiler) {
+    int startErrorCount = compiler.getErrorManager().getErrorCount();
     try {
       ParserRunner.ParseResult result = ParserRunner.parse(sourceFile, sourceFile.getCode(),
           compiler.getParserConfig(),
@@ -92,10 +93,11 @@
     }
 
 
-    if (root == null || compiler.hasHaltingErrors()) {
+    if (root == null ||
         // Most passes try to report as many errors as possible,
         // so there may already be errors. We only care if there were
         // errors in the code we just parsed.
+        (compiler.getErrorManager().getErrorCount() > startErrorCount && !compiler.isIdeMode())) {
       // There was a parse error or IOException, so use a dummy block.
       root = IR.script();
     } else {
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/src/com/google/javascript/jscomp/NodeUtil.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/src/com/google/javascript/jscomp/NodeUtil.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/src/com/google/javascript/jscomp/NodeUtil.java	2025-11-12 13:07:35.340276429 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/src/com/google/javascript/jscomp/NodeUtil.java	2025-11-12 13:07:39.363276141 +0800
@@ -2364,9 +2364,12 @@
     if (nameNode.isName()) {
       result = IR.var(nameNode, value);
       result.setJSDocInfo(info);
-    } else {
+    } else if (value != null) {
       result = IR.exprResult(IR.assign(nameNode, value));
       result.getFirstChild().setJSDocInfo(info);
+    } else {
+      result = IR.exprResult(nameNode);
+      result.getFirstChild().setJSDocInfo(info);
     }
     return result;
   }
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/src/com/google/javascript/jscomp/ScopedAliases.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/src/com/google/javascript/jscomp/ScopedAliases.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-b/src/com/google/javascript/jscomp/ScopedAliases.java	2025-11-12 13:07:35.390276426 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-174-f/src/com/google/javascript/jscomp/ScopedAliases.java	2025-11-12 13:07:39.363276141 +0800
@@ -353,8 +353,8 @@
       for (Var v : scope.getVarIterable()) {
         Node n = v.getNode();
         Node parent = n.getParent();
-        boolean isVarAssign = parent.isVar() && n.hasChildren();
-        if (isVarAssign && n.getFirstChild().isQualifiedName()) {
+        boolean isVar = parent.isVar();
+        if (isVar && n.getFirstChild() != null && n.getFirstChild().isQualifiedName()) {
           recordAlias(v);
         } else if (v.isBleedingFunction()) {
           // Bleeding functions already get a BAD_PARAMETERS error, so just
@@ -362,8 +362,10 @@
         } else if (parent.getType() == Token.LP) {
           // Parameters of the scope function also get a BAD_PARAMETERS
           // error.
-        } else if (isVarAssign) {
-          Node value = v.getInitialValue().detachFromParent();
+        } else if (isVar) {
+          Node value = n.hasChildren() ?
+              v.getInitialValue().detachFromParent() :
+              null;
           String name = n.getString();
           int nameCount = scopedAliasNames.count(name);
           scopedAliasNames.add(name);
@@ -374,6 +376,7 @@
 
           // Add $jscomp.scope.name = EXPR;
           // Make sure we copy over all the jsdoc and debug info.
+          if (value != null || v.getJSDocInfo() != null) {
             Node newDecl = NodeUtil.newQualifiedNameNodeDeclaration(
                 compiler.getCodingConvention(),
                 globalName,
@@ -383,6 +386,7 @@
             NodeUtil.setDebugInformation(
                 newDecl.getFirstChild().getFirstChild(), n, name);
             parent.getParent().addChildBefore(newDecl, parent);
+          }
 
           // Rewrite "var name = EXPR;" to "var name = $jscomp.scope.name;"
           v.getNameNode().addChildToFront(
