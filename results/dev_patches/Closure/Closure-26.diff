diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-b/.defects4j.config	2025-11-12 12:48:07.454360032 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-f/.defects4j.config	2025-11-12 12:48:11.255359759 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Closure
-vid=26b
+vid=26f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-f/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java	2025-11-12 12:48:07.455360032 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-26-f/src/com/google/javascript/jscomp/ProcessCommonJSModules.java	2025-11-12 12:48:11.341359753 +0800
@@ -125,6 +125,7 @@
       AbstractPostOrderCallback {
 
     private int scriptNodeCount = 0;
+    private Set<String> modulesWithExports = Sets.newHashSet();
 
     @Override
     public void visit(NodeTraversal t, Node n, Node parent) {
@@ -204,6 +205,9 @@
      */
     private void emitOptionalModuleExportsOverride(Node script,
         String moduleName) {
+      if (!modulesWithExports.contains(moduleName)) {
+        return;
+      }
 
       Node moduleExportsProp = IR.getprop(IR.name(moduleName),
           IR.string("module$exports"));
@@ -225,6 +229,7 @@
       Node exports = prop.getChildAtIndex(1);
       exports.putProp(Node.ORIGINALNAME_PROP, "exports");
       exports.setString("module$exports");
+      modulesWithExports.add(moduleName);
     }
 
     /**
