diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-b/.defects4j.config	2025-11-12 13:02:15.905299296 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-f/.defects4j.config	2025-11-12 13:02:19.345299049 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Closure
-vid=134b
+vid=134f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-b/src/com/google/javascript/jscomp/AmbiguateProperties.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-f/src/com/google/javascript/jscomp/AmbiguateProperties.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-b/src/com/google/javascript/jscomp/AmbiguateProperties.java	2025-11-12 13:02:15.962299292 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-f/src/com/google/javascript/jscomp/AmbiguateProperties.java	2025-11-12 13:02:19.937299007 +0800
@@ -207,7 +207,6 @@
     for (Property p : propertyMap.values()) {
       if (!p.skipAmbiguating) {
         ++numRenamedPropertyNames;
-        computeRelatedTypes(p.type);
         propsByFreq.add(p);
       } else {
         ++numSkippedPropertyNames;
@@ -353,7 +352,7 @@
       if (typesRelatedToSet.intersects(prop.typesSet)) {
         return false;
       }
-      return !getRelated(prop.type).intersects(typesInSet);
+      return !prop.relatedTypesSet.intersects(typesInSet);
     }
 
     /**
@@ -363,7 +362,7 @@
      */
     public void addNode(Property prop) {
       typesInSet.or(prop.typesSet);
-      typesRelatedToSet.or(getRelated(prop.type));
+      typesRelatedToSet.or(prop.relatedTypesSet);
     }
 
     /**
@@ -550,11 +549,11 @@
   /** Encapsulates the information needed for renaming a property. */
   private class Property {
     final String oldName;
-    JSType type;
     String newName;
     int numOccurrences;
     boolean skipAmbiguating;
     JSTypeBitSet typesSet = new JSTypeBitSet(intForType.size());
+    JSTypeBitSet relatedTypesSet = new JSTypeBitSet(intForType.size());
 
     Property(String name) {
       this.oldName = name;
@@ -591,12 +590,12 @@
         return;
       }
 
-      if (type == null) {
-        type = newType;
-      } else {
-        type = type.getLeastSupertype(newType);
+      int typeInt = getIntForType(newType);
+      if (!typesSet.get(typeInt)) {
+        computeRelatedTypes(newType);
+        typesSet.set(typeInt);
+        relatedTypesSet.or(getRelatedTypesOnNonUnion(newType));
       }
-      typesSet.set(getIntForType(newType));
     }
   }
 
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-b/src/com/google/javascript/jscomp/TypedScopeCreator.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-f/src/com/google/javascript/jscomp/TypedScopeCreator.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-b/src/com/google/javascript/jscomp/TypedScopeCreator.java	2025-11-12 13:02:15.963299292 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-134-f/src/com/google/javascript/jscomp/TypedScopeCreator.java	2025-11-12 13:02:19.940299006 +0800
@@ -557,9 +557,17 @@
       JSType propType = ownerType.getPropertyType(propName);
       if (propType instanceof FunctionType) {
         return (FunctionType) propType;
-      }
+      } else {
         // If it's not, then check to see if it's implemented
         // on an implemented interface.
+        for (ObjectType iface :
+                 ownerType.getCtorImplementedInterfaces()) {
+          propType = iface.getPropertyType(propName);
+          if (propType instanceof FunctionType) {
+            return (FunctionType) propType;
+          }
+        }
+      }
 
       return null;
     }
