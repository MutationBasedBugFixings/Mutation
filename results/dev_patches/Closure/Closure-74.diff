diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-b/.defects4j.config /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-f/.defects4j.config
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-b/.defects4j.config	2025-11-12 12:54:23.394333120 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-f/.defects4j.config	2025-11-12 12:54:27.311332840 +0800
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Closure
-vid=74b
+vid=74f
diff -ruN --exclude .git --exclude .svn --exclude .hg --exclude .idea --exclude .settings --exclude .classpath --exclude .project --exclude target --exclude build --exclude out --exclude bin --exclude '*.class' --exclude '*.jar' --exclude '*.war' --exclude '*.ear' --exclude '*.zip' --exclude '*.tar' --exclude '*.gz' /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-f/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
--- /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java	2025-11-12 12:54:23.395333120 +0800
+++ /home1/furqan/my_mutation_experiments/d4j_work_diff/Closure-74-f/src/com/google/javascript/jscomp/PeepholeFoldConstants.java	2025-11-12 12:54:27.376332835 +0800
@@ -904,8 +904,8 @@
           && right.getString().equals("undefined"))
           || (Token.VOID == right.getType()
               && NodeUtil.isLiteralValue(right.getFirstChild(), false)));
-    int lhType = left.getType();
-    int rhType = right.getType();
+    int lhType = getNormalizedNodeType(left);
+    int rhType = getNormalizedNodeType(right);
     switch (lhType) {
       case Token.VOID:
         if (!NodeUtil.isLiteralValue(left.getFirstChild(), false)) {
@@ -1071,6 +1071,19 @@
   /**
    * @return Translate NOT expressions into TRUE or FALSE when possible.
    */
+  private int getNormalizedNodeType(Node n) {
+    int type = n.getType();
+    if (type == Token.NOT) {
+      TernaryValue value = NodeUtil.getPureBooleanValue(n);
+      switch (value) {
+        case TRUE:
+          return Token.TRUE;
+        case FALSE:
+          return Token.FALSE;
+      }
+    }
+    return type;
+  }
 
   /**
    * The result of the comparison as a Boolean or null if the
